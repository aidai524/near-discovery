import { useState } from 'react';

import Modal from '@/components/Modal';
import useAccount from '@/hooks/useAccount';
import useAddAction from '@/hooks/useAddAction';
import useToast from '@/hooks/useToast';
import { usePriceStore } from '@/stores/price';
import { StyledFlex, StyledFont } from '@/styled/styles';

import GammaModalContent from './GammaModalContent';
const ICON_VAULT_MAP = {
  USDC: 'https://app.gamma.xyz/_next/static/media/icon.4435c0e9.svg',
  LYNX: 'https://app.gamma.xyz/_next/static/media/icon.4098f714.svg'
};
const PROXY_ADDRESS = '0xFc13Ebe7FEB9595D70195E9168aA7F3acE153621';

const pool = {
  id: 'W USDC-LYNX-0',
  token0: 'USDC',
  token1: 'LYNX',
  decimals0: 6,
  decimals1: 18,
  poolAddress: '0xdda5ec5af00ab99dc80c33e08881eb80c027d498'
};
const addresses = {
  USDC: '0x176211869ca2b568f2a7d4ee941e073a821ee1ff',
  LYNX: '0x1a51b19ce03dbe0cb44c1528e34a7edd7771e9af',
  'W USDC-LYNX-0': '0xcc86572ce5a6eee74c76c57e9ea7b08221f06bb9'
};

const GammaModal = ({ show, onClose }: any) => {
  const { addAction } = useAddAction('dapp');
  const { account, chainId, provider } = useAccount();
  const toast = useToast();
  const prices = usePriceStore((store) => store.price);

  const [updater, setUpdater] = useState(0);
  const onSuccess = () => {
    onClose(true);
    setUpdater(Date.now());
    // update();
  };
  return (
    <Modal
      display={show}
      title={() => {
        return (
          <StyledFlex gap="12px">
            <StyledFont color="#FFF" fontSize="20px" fontWeight="600">
              Provide LYNX/USDC
            </StyledFont>
            {/* <svg xmlns="http://www.w3.org/2000/svg" width="97" height="21" viewBox="0 0 97 21" fill="none">
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M9.54457 6.48658L4.38679 9.89322C4.23738 9.99482 4.23738 10.216 4.38679 10.3176L9.59238 13.7541C9.85534 13.9274 10.0167 14.2262 10.0167 14.543V19.9398C10.0167 20.155 9.77167 20.2865 9.59238 20.1609L0.3825 13.7361C0.143437 13.5688 0 13.2999 0 13.007V7.20975C0 6.91689 0.143437 6.64795 0.3825 6.48061L9.59238 0.0498287C9.77167 -0.075679 10.0167 0.0498287 10.0167 0.270961V5.61401C10.0167 5.96662 9.83742 6.29533 9.54457 6.49256V6.48658ZM89.7383 13.4494L92.1469 16.856C92.2365 16.9815 92.3859 17.0592 92.5413 17.0592H96.5157C96.9102 17.0592 97.1373 16.6169 96.9102 16.2942L92.5832 10.1862L96.6054 3.89882C96.8146 3.57608 96.5815 3.15175 96.199 3.15175H92.3919C92.2186 3.15175 92.0632 3.24139 91.9735 3.39081L90.073 6.6301L87.7601 3.36093C87.6704 3.23542 87.521 3.15772 87.3656 3.15772H83.3912C82.9968 3.15772 82.7696 3.59999 82.9967 3.92272L87.2282 9.8933L83.1282 16.3181C82.9191 16.6408 83.1522 17.0652 83.5347 17.0652H87.3417C87.515 17.0652 87.6704 16.9755 87.7601 16.8261L89.7383 13.4494ZM31.796 13.7601H35.5135C35.7824 13.7601 35.9976 13.9753 35.9976 14.2442V16.5751C35.9976 16.844 35.7824 17.0592 35.5135 17.0592H27.9232C27.6543 17.0592 27.4391 16.844 27.4391 16.5751V3.64182C27.4391 3.37288 27.6543 3.15772 27.9232 3.15772H31.3119C31.5809 3.15772 31.796 3.37288 31.796 3.64182V13.7601ZM51.74 3.86295L47.1141 12.8397V16.5751C47.1141 16.844 46.899 17.0592 46.63 17.0592H43.2413C42.9724 17.0592 42.7572 16.844 42.7572 16.5751V12.8397L38.1314 3.86295C37.964 3.54022 38.1971 3.15772 38.5617 3.15772H42.4405C42.6317 3.15772 42.805 3.27128 42.8827 3.4446L44.9745 8.08838L47.0663 3.4446C47.144 3.27128 47.3173 3.15772 47.5086 3.15772H51.3097C51.6742 3.15772 51.9073 3.54022 51.74 3.86295ZM63.6988 17.0592H67.3086C67.5776 17.0592 67.7927 16.844 67.7927 16.5751V3.64182C67.7927 3.37288 67.5776 3.15772 67.3086 3.15772H63.9199C63.651 3.15772 63.4358 3.37288 63.4358 3.64182V10.2698L58.9654 3.37885C58.8757 3.24139 58.7263 3.15772 58.559 3.15772H54.9491C54.6802 3.15772 54.465 3.37288 54.465 3.64182V16.5811C54.465 16.85 54.6802 17.0652 54.9491 17.0652H58.3378C58.6068 17.0652 58.8219 16.85 58.8219 16.5811V10.0726L63.2924 16.844C63.382 16.9755 63.5374 17.0592 63.6988 17.0592ZM75.4974 6.6301V8.3394H79.3343C79.6033 8.3394 79.8184 8.55455 79.8184 8.8235V11.1305C79.8184 11.3994 79.6033 11.6146 79.3343 11.6146H75.4974V13.5808H79.92C80.189 13.5808 80.4041 13.796 80.4041 14.0649V16.5691C80.4041 16.8381 80.189 17.0532 79.92 17.0532H71.6186C71.3497 17.0532 71.1345 16.8381 71.1345 16.5691V3.64182C71.1345 3.37288 71.3497 3.15772 71.6186 3.15772H79.92C80.189 3.15772 80.4041 3.37288 80.4041 3.64182V6.146C80.4041 6.41495 80.189 6.6301 79.92 6.6301H75.4974ZM21.9334 13.0071V7.20985C21.9334 6.917 21.79 6.64805 21.5509 6.48071L12.3351 0.0499302C12.1558 -0.0755776 11.9108 0.0559067 11.9108 0.271063V5.61411C11.9108 5.96672 12.09 6.29543 12.3829 6.49266L17.5407 9.8993C17.6901 10.0009 17.6901 10.222 17.5407 10.3236L12.3351 13.7602C12.0721 13.9335 11.9108 14.2323 11.9108 14.5491V19.9459C11.9108 20.167 12.1558 20.2925 12.3351 20.167L21.5509 13.7362C21.79 13.5689 21.9334 13.3 21.9334 13.0071Z"
                fill="white"
              />
            </svg> */}
            <StyledFlex gap="8px">
              <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71574 23.2843 0 15 0C6.71574 0 0 6.71574 0 15C0 23.2843 6.71574 30 15 30Z"
                  fill="#FF0025"
                />
                <path
                  d="M14.9097 7.57947C14.623 7.57947 14.3906 7.81185 14.3906 8.09859V21.9384C14.3906 22.225 14.623 22.4575 14.9097 22.4575C15.1964 22.4575 15.4289 22.225 15.4289 21.9384V8.09859C15.4289 7.81185 15.1964 7.57947 14.9097 7.57947Z"
                  fill="white"
                />
                <path
                  d="M22.4718 14.9946C22.4718 14.7078 22.2393 14.4755 21.9527 14.4755H8.11287C7.82619 14.4755 7.59375 14.7078 7.59375 14.9946C7.59375 15.2813 7.82619 15.5137 8.11287 15.5137H21.9527C22.2393 15.5137 22.4718 15.2813 22.4718 14.9946Z"
                  fill="white"
                />
                <path
                  d="M20.3013 20.3052C20.504 20.1025 20.504 19.7738 20.3013 19.571L10.5151 9.78487C10.3124 9.58213 9.9837 9.58213 9.78096 9.78487C9.57822 9.98755 9.57822 10.3163 9.78096 10.519L19.5671 20.3052C19.7699 20.5079 20.0986 20.5079 20.3013 20.3052Z"
                  fill="white"
                />
                <path
                  d="M7.60127 22.2669C7.80395 22.4696 8.13269 22.4696 8.33537 22.2669L22.2155 8.38683C22.4182 8.18409 22.4182 7.85541 22.2155 7.65267C22.0127 7.44993 21.6841 7.44993 21.4813 7.65267L7.60127 21.5328C7.39853 21.7355 7.39853 22.0642 7.60127 22.2669Z"
                  fill="white"
                />
                <path
                  d="M14.9176 7.57922C15.2042 7.57922 15.4367 7.8116 15.4367 8.09834V21.9381C15.4367 22.2248 15.2042 22.4572 14.9176 22.4572C14.6308 22.4572 14.3984 22.2248 14.3984 21.9381V8.09834C14.3984 7.8116 14.6308 7.57922 14.9176 7.57922Z"
                  stroke="white"
                />
                <path
                  d="M22.4757 14.9945C22.4757 15.2811 22.2432 15.5136 21.9566 15.5136H8.11678C7.8301 15.5136 7.59766 15.2811 7.59766 14.9945C7.59766 14.7077 7.8301 14.4753 8.11678 14.4753H21.9566C22.2432 14.4753 22.4757 14.7077 22.4757 14.9945Z"
                  stroke="white"
                />
                <path
                  d="M20.3013 20.3051C20.0986 20.5078 19.7699 20.5078 19.5671 20.3051L9.78096 10.5188C9.57822 10.3162 9.57822 9.98743 9.78096 9.78475C9.9837 9.58201 10.3124 9.58201 10.5151 9.78475L20.3013 19.5709C20.504 19.7737 20.504 20.1023 20.3013 20.3051Z"
                  stroke="white"
                />
                <path
                  d="M7.60909 22.2668C7.40635 22.0641 7.40635 21.7354 7.60909 21.5326L21.4891 7.65254C21.6919 7.4498 22.0205 7.4498 22.2233 7.65254C22.426 7.85528 22.426 8.18396 22.2233 8.3867L8.34319 22.2668C8.14051 22.4695 7.81177 22.4695 7.60909 22.2668Z"
                  stroke="white"
                />
              </svg>
              <svg width="113" height="18" viewBox="0 0 113 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M20.2426 17.691H16.9207L22.9768 2.24034C23.3005 1.41631 23.752 0.841202 24.3311 0.515021C24.9274 0.171673 25.6855 0 26.6054 0C27.5082 0 28.2493 0.171673 28.8285 0.515021C29.4247 0.841202 29.8762 1.41631 30.1829 2.24034L36.009 17.691H32.6615L27.4231 3.70815C27.2698 3.3133 26.9887 3.11588 26.5798 3.11588C26.171 3.11588 25.8813 3.3133 25.711 3.70815L20.2426 17.691ZM14.8975 0.309045V3.34767H7.79375C6.12426 3.34767 4.90622 3.79402 4.13963 4.68673C3.39006 5.56226 3.01528 7.00433 3.01528 9.01288C3.01528 11.0043 3.39006 12.4464 4.13963 13.3391C4.88918 14.2146 6.10723 14.6524 7.79375 14.6524H10.6557C11.5075 14.6524 12.1208 14.4292 12.4955 13.9829C12.8703 13.5193 13.0577 12.9271 13.0577 12.206C13.0577 11.5022 12.8788 10.9614 12.5211 10.5837C12.1804 10.1889 11.6523 9.99146 10.9368 9.99146H7.10379V7.33907H11.2434C12.7937 7.33907 13.9435 7.78547 14.6931 8.67814C15.4427 9.55369 15.8175 10.7468 15.8175 12.2575C15.8175 13.0129 15.7152 13.7253 15.5108 14.3949C15.3234 15.0472 15.0083 15.6224 14.5654 16.1202C14.1394 16.6009 13.5858 16.9871 12.9044 17.279C12.24 17.5537 11.4223 17.691 10.4513 17.691H7.79375C5.27249 17.691 3.33896 16.9786 1.99315 15.5537C0.664386 14.1116 0 11.9314 0 9.01288C0 6.07728 0.664386 3.89703 1.99315 2.47213C3.33896 1.03007 5.27249 0.309045 7.79375 0.309045H14.8975ZM38.5418 17.691H41.5315V4.04292C41.5315 3.69957 41.6337 3.43348 41.8382 3.24464C42.0596 3.03863 42.3662 2.93562 42.7581 2.93562C43.0988 2.93562 43.3628 3.02146 43.5502 3.19313C43.7547 3.34764 43.8909 3.57081 43.9591 3.86266L46.4121 14.4979C46.6677 15.6309 47.1192 16.4979 47.7665 17.0987C48.4309 17.6996 49.3678 18 50.5773 18C51.7698 18 52.6812 17.7082 53.3115 17.1245C53.9419 16.5236 54.3933 15.6481 54.6659 14.4979L57.1446 3.86266C57.2126 3.57081 57.3404 3.34764 57.5278 3.19313C57.7152 3.02146 57.9878 2.93562 58.3455 2.93562C58.7374 2.93562 59.0355 3.03863 59.2399 3.24464C59.4613 3.43348 59.5721 3.69957 59.5721 4.04292V17.691H62.5616V3.88841C62.5616 2.72103 62.2208 1.78541 61.5397 1.08155C60.8583 0.360515 59.8191 0 58.4222 0C57.1786 0 56.2161 0.30043 55.5347 0.901291C54.8703 1.48498 54.4188 2.32618 54.1803 3.42489L51.7528 14.0601C51.5824 14.7125 51.1991 15.0386 50.6029 15.0386C49.9896 15.0386 49.6063 14.7125 49.453 14.0601L47.0254 3.42489C46.787 2.32618 46.31 1.48498 45.5944 0.901291C44.879 0.30043 43.908 0 42.6814 0C41.2845 0 40.2453 0.360515 39.5639 1.08155C38.8825 1.78541 38.5418 2.72103 38.5418 3.88841V17.691ZM69.6848 17.691H66.6949V3.88841C66.6949 2.72103 67.0357 1.78541 67.7172 1.08155C68.3981 0.360515 69.4378 0 70.8343 0C72.0608 0 73.0322 0.30043 73.7472 0.901291C74.4629 1.48498 74.9402 2.32618 75.1785 3.42489L77.606 14.0601C77.7593 14.7125 78.1429 15.0386 78.7562 15.0386C79.352 15.0386 79.7356 14.7125 79.9057 14.0601L82.3332 3.42489C82.5722 2.32618 83.0234 1.48498 83.6875 0.901291C84.3691 0.30043 85.3317 0 86.575 0C87.9722 0 89.0112 0.360515 89.6927 1.08155C90.3742 1.78541 90.715 2.72103 90.715 3.88841V17.691H87.7251V4.04292C87.7251 3.69957 87.6147 3.43348 87.3931 3.24464C87.1882 3.03863 86.8903 2.93562 86.4986 2.93562C86.1405 2.93562 85.868 3.02146 85.6806 3.19313C85.4938 3.34764 85.3659 3.57081 85.2976 3.86266L82.8192 14.4979C82.5461 15.6481 82.0948 16.5236 81.4649 17.1245C80.8342 17.7082 79.9231 18 78.7301 18C77.521 18 76.5837 17.6996 75.9196 17.0987C75.2722 16.4979 74.821 15.6309 74.5653 14.4979L72.1123 3.86266C72.044 3.57081 71.9075 3.34764 71.7033 3.19313C71.5158 3.02146 71.252 2.93562 70.9113 2.93562C70.519 2.93562 70.2124 3.03863 69.9914 3.24464C69.7866 3.43348 69.6848 3.69957 69.6848 4.04292V17.691ZM93.2555 17.691H96.5774L102.046 3.70815C102.216 3.3133 102.506 3.11588 102.915 3.11588C103.323 3.11588 103.604 3.3133 103.758 3.70815L108.996 17.691H112.344L106.517 2.24034C106.211 1.41631 105.759 0.841202 105.163 0.515021C104.584 0.171673 103.843 0 102.94 0C102.02 0 101.262 0.171673 100.666 0.515021C100.087 0.841202 99.6349 1.41631 99.3115 2.24034L93.2555 17.691Z"
                  fill="white"
                />
              </svg>
            </StyledFlex>
          </StyledFlex>
        );
      }}
      onClose={onClose}
      portal={true}
      width={500}
      headerStyle={{ padding: '26px 20px 0' }}
      titleStyle={{ fonwWeight: 'bold', fontSize: '22px' }}
      content={
        <GammaModalContent
          {...{
            pool,
            toast,
            prices,
            updater,
            account,
            chainId,
            provider,
            addresses,
            ICON_VAULT_MAP,
            PROXY_ADDRESS,
            addAction,
            onSuccess
          }}
        />
      }
    />
  );
};

export default GammaModal;

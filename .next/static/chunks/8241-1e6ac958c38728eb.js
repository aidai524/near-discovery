"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8241],{78824:function(e,n){n.Z={src:"/_next/static/media/renzo.0a52f75c.svg",height:24,width:100,blurWidth:0,blurHeight:0}},6992:function(e,n,t){t.d(n,{Z:function(){return W}});var a=t(82729),i=t(85893),s=t(63043),r=t(67294),o=t(68458),u=t(80132),l=t(32704),c=t(17479),p=t(8433),d=t(63658),y=t(67618);async function m(e){let n=await fetch("/renzo/api/stats?chainId=".concat(e)).then(e=>e.json());return(null==n?void 0:n.success)?n.data.apr.data.rate:0}var f=t(82169),b=t(64146),h=t(13012),g=t(99376);let w=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];async function x(e,n,t,a){let i=await a.getAddress(),s=new b.CH(e,w,a),r=await s.allowance(i,t);if(r.lt(n.toString())){let e=await s.approve(t,n.toString());await e.wait()}return!0}let T=/([^(]+)\(/,v=[{inputs:[],name:"getRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],E=[{inputs:[],name:"depositETH",outputs:[],stateMutability:"payable",type:"function"}],Z=[{inputs:[{internalType:"uint256",name:"_amountIn",type:"uint256"},{internalType:"uint256",name:"_minOut",type:"uint256"},{internalType:"uint256",name:"_deadline",type:"uint256"}],name:"deposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],S=[{inputs:[{internalType:"uint256",name:"_minOut",type:"uint256"},{internalType:"uint256",name:"_deadline",type:"uint256"}],name:"depositETH",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"}];function C(e){let n=new Date;return n.setMinutes(n.getMinutes()+e),n.getTime()}async function I(){let e=new f.r("https://arb1.arbitrum.io/rpc"),n=new b.CH("0xf25484650484DE3d554fB0b7125e7696efA4ab99",v,e),t=await n.getRate();return t._hex?new h.Z(Number(t._hex)).div(1e18).toNumber():0}async function k(e,n,t,a){try{var i;let s=new h.Z(t).mul(1e18).toString().split(".")[0],r=await j(e,n,s,a),o=await a.getGasPrice(),u=await a.estimateGas({...r,value:null==r?void 0:null===(i=r.value)||void 0===i?void 0:i.toString(),gasPrice:o.toString()});return{gasEstimate:u,gasPrice:o}}catch(e){console.log(e)}return null}async function j(e,n,t,a){let i,s,r;switch(n){case 1:s=new b.CH("0x74a09653A083691711cF8215a6ab074BB4e99ef5",E,a),i=await s.populateTransaction.depositETH({value:e});break;case 56:s=new b.CH("0xf25484650484DE3d554fB0b7125e7696efA4ab99",Z,a),i=await s.populateTransaction.deposit(e,t,C(20));break;case 42161:case 8453:r="0xf25484650484de3d554fb0b7125e7696efa4ab99",s=new b.CH(r,S,a),i=await s.populateTransaction.depositETH(t,C(20),{value:e});break;case 59144:case 34443:r="0x4D7572040B84b41a6AA2efE4A93eFFF182388F88",s=new b.CH(r,S,a),i=await s.populateTransaction.depositETH(t,C(20),{value:e})}return i}var N=t(45270),H=t(37346),_=t(29265),M=t(61890),B=t(620),F=t(93862),z=t(93200);function P(){let e=(0,a._)(["\n   \n"]);return P=function(){return e},e}function A(){let e=(0,a._)(["\n    padding: 10px 20px 20px;\n"]);return A=function(){return e},e}function D(){let e=(0,a._)(["\n    margin: 0 auto;\n    display: block;\n    height: 48px;\n    width: calc(100% - 40px);\n    line-height: 48px;\n    text-align: center;\n    border-radius: 8px;\n    color: #000;\n    background: linear-gradient(180deg, #EEF3BF 0%, #E9F456 100%);\n"]);return D=function(){return e},e}let R=o.ZP.div.withConfig({componentId:"sc-5609d925-0"})(P()),O=o.ZP.div.withConfig({componentId:"sc-5609d925-1"})(A()),L=o.ZP.button.withConfig({componentId:"sc-5609d925-2"})(D()),G={chainId:1,name:"ETH",symbol:"ETH",icon:"https://assets.coingecko.com/coins/images/279/standard/ethereum.png?1696501628",decimals:18,isNative:!1,address:"0xbf5495Efe5DB9ce00f80364C8B423567e58d2110"};var W=()=>{let{chainId:e,account:n,provider:t}=(0,p.Z)(),[{settingChain:a},o]=(0,u.Um)(),{onConnect:f}=(0,c.Z)(),{addAction:b}=(0,l.Z)("dapp"),[w,v]=(0,r.useState)(""),[E,Z]=(0,r.useState)(z.p[0]),[S,C]=(0,r.useState)(z.T[z.p[0].chainId][0]),[P,A]=(0,r.useState)(G),[D,W]=(0,r.useState)(!1),[K,U]=(0,r.useState)(!1),[q,J]=(0,r.useState)(!1),[Q,V]=(0,r.useState)("Confirm"),[X,Y]=(0,r.useState)(1),$=(0,H.O)(e=>e.price),ee=(0,s.Z)(w,{wait:500}),{balance:en,loading:et}=(0,y.Z)({currency:S,updater:X,isNative:S.isNative,isPure:!1}),{balance:ea,loading:ei}=(0,y.Z)({currency:P,updater:X,isNative:!1,isPure:!1}),{apr:es}=function(e){let[n,t]=(0,r.useState)(0);return(0,r.useEffect)(()=>{(null==e?void 0:e.chainId)?m(e.chainId).then(t):t(0)},[e]),{apr:n}}(E),{rate:er,recived:eo,exchangeRate:eu,transactionCost:el,deposit:ec,isLoading:ep}=function(e){let{amount:n,provider:t,account:a,isError:i,chainId:s}=e,{fail:o,success:u}=(0,g.Z)(),[l,c]=(0,r.useState)(0),[p,d]=(0,r.useState)(""),[y,m]=(0,r.useState)(""),[f,b]=(0,r.useState)(""),[w,v]=(0,r.useState)(!1),[E,Z]=(0,r.useState)(192e4);async function S(e,n){try{let t=new h.Z(e).mul(1e18).toNumber().toFixed();v(!0);let a=await C(t,n);return u({title:"Transaction successed"}),v(!1),a.transactionHash}catch(e){console.log(e),o({title:e.name?e.name:"Transaction failed",text:function(e){let n=e.match(T);return n&&n.length>1?n[1]:e}(null==e?void 0:e.message)}),v(!1)}return null}async function C(e,n){let t=new h.Z(p).mul(1e18).toString().split(".")[0],a=await j(e,s,t,n);56===s&&await x("0x2170Ed0880ac9A755fd29B2688956BD959F933F8",new h.Z(e),"0xf25484650484DE3d554fB0b7125e7696efA4ab99",n);let i=192e4;i=1===s&&E?E:192e4;let r=await n.sendTransaction({...a,gasLimit:i});return r.wait()}return(0,r.useEffect)(()=>{I().then(c)},[]),(0,r.useEffect)(()=>{l&&Number(l)>0&&m((1/l).toString())},[l]),(0,r.useEffect)(()=>{if(n&&!isNaN(Number(n))&&l){let e=new h.Z(n).div(new h.Z(l)).mul(new h.Z(.9)).toString();d(e)}else d("")},[n,l]),(0,r.useEffect)(()=>{if(n&&!isNaN(Number(n))&&!i&&t){let e=new h.Z(n.toString()).mul(1e18).toString();k(e,s,p,null==t?void 0:t.getSigner()).then(e=>{e?(Z(e.gasEstimate),b(new h.Z(e.gasEstimate.mul(e.gasPrice).toString()).div(1e18).toString())):(b(""),Z(192e4))})}else b("")},[n,i,p]),{rate:l,recived:p,exchangeRate:y,deposit:S,transactionCost:f,isLoading:w}}({amount:ee,provider:t,account:n,isError:q,chainId:Number(null==E?void 0:E.chainId)}),{value:ed}=(0,N.Z)({prices:$,amount:ee,symbol:S.symbol}),{value:ey}=(0,N.Z)({prices:$,amount:eo,symbol:"ezETH"}),{value:em}=(0,N.Z)({prices:$,amount:el,symbol:"ETH"});return(0,r.useEffect)(()=>{if(!e){J(!1),V("Connect Wallet");return}if((null==E?void 0:E.chainId)!==e){U(!0),J(!1),V("Switch to ".concat(E.chainName," Chain"));return}if(U(!1),!ee||isNaN(Number(ee))){J(!0),V("Enter an amount");return}if(Number(ee)>=Number(en)){J(!0),V("Insufficient balance");return}J(!1),V("Confirm")},[ee,en,e,E]),(0,i.jsxs)(R,{children:[(0,i.jsx)(M.Z,{ethLoading:et,ethBalance:en,ezETHLoading:ei,ezETHbalance:ea,apr:es,currentToken:S,symbol:"ezETH"}),(0,i.jsxs)(O,{children:[(0,i.jsx)(F.Z,{recived:w,outputMoney:ed,balance:en,chainIcon:E.icon,tokenIcon:null==S?void 0:S.icon,symbol:S.symbol,title:"Restake",balanceLoading:et,tokenAmountChange:v,tokenChange:()=>{W(!0)}}),(0,i.jsx)(F.Z,{recived:eo,outputMoney:ey,balance:ea,chainIcon:E.icon,tokenIcon:G.icon,symbol:"ezETH",title:"Receive",balanceLoading:ei})]}),(0,i.jsxs)(L,{style:{opacity:q?.2:1},onClick:async()=>{if(!n){f();return}if(K){o({chainId:"0x".concat(E.chainId.toString(16))});return}if(!q&&!ep){let e=await ec(ee,t.getSigner());e&&b({type:"Staking",fromChainId:E.chainId,toChainId:E.chainId,token:S,amount:w,template:"Renzo Stake",add:!1,status:1,action:"Staking",transactionHash:e,action_network_id:E.chainName}),Y(X+1)}},children:[ep?(0,i.jsx)(d.Z,{size:18}):null," ",Q]}),(0,i.jsx)(B.Z,{exchangeRate:eu,transactionCostMoney:em,rewardFee:"10%",symbol:"ezETH"}),D?(0,i.jsx)(_.Z,{chains:z.p.filter(e=>[1,42161,56,59144,8453,34443].indexOf(e.chainId)>-1),tokens:z.T,chain:E,token:S,onClose:()=>{W(!1)},onChainTokenChange:(e,n)=>{Z(e),C(n);let t={...P,chainId:e.chainId,address:1===e.chainId?"0xbf5495Efe5DB9ce00f80364C8B423567e58d2110":"0x2416092f143378750bb29b79eD961ab195CcEea5"};A(t)}}):null]})}},620:function(e,n,t){t.d(n,{Z:function(){return x}});var a=t(82729),i=t(85893),s=t(67294),r=t(68458),o=t(63658),u=t(21004),l=t(36768);function c(){let e=(0,a._)(["\n    position: relative;\n    padding: 20px;\n"]);return c=function(){return e},e}function p(){let e=(0,a._)(["\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 16.8px;\n    color: rgba(151, 154, 190, 1);\n"]);return p=function(){return e},e}function d(){let e=(0,a._)(["\n    cursor: pointer;\n    position: absolute;\n    right: 20px;\n    top: 15px;\n"]);return d=function(){return e},e}function y(){let e=(0,a._)(["\n    border: 1px solid rgba(55, 58, 83, 1);\n    border-radius: 10px;\n    padding: 12px;\n    margin-top: 12px;\n"]);return y=function(){return e},e}function m(){let e=(0,a._)(["\n    display: flex;\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 16.8px;\n    justify-content: space-between;\n    align-items: center;\n    color: rgba(151, 154, 190, 1);\n    &:not(:first-child) {\n        margin-top: 10px;\n    }\n"]);return m=function(){return e},e}let f=r.ZP.div.withConfig({componentId:"sc-48059ed2-0"})(c()),b=r.ZP.div.withConfig({componentId:"sc-48059ed2-1"})(p()),h=r.ZP.div.withConfig({componentId:"sc-48059ed2-2"})(d()),g=r.ZP.div.withConfig({componentId:"sc-48059ed2-3"})(y()),w=r.ZP.div.withConfig({componentId:"sc-48059ed2-4"})(m());function x(e){let{exchangeRate:n,transactionCostMoney:t,rewardFee:a,symbol:r}=e,[c,p]=(0,s.useState)(!1);return(0,i.jsxs)(f,{children:[(0,i.jsxs)(b,{children:["1 ETH = ",n?(0,u._2)(n):(0,i.jsx)(o.Z,{size:14})," ",r]}),(0,i.jsx)(h,{onClick:()=>{p(!c)},children:c?(0,i.jsx)(l.a,{}):(0,i.jsx)(l.K,{})}),c&&(0,i.jsxs)(g,{children:[(0,i.jsxs)(w,{children:[(0,i.jsx)("div",{children:"Transaction Cost"}),(0,i.jsx)("div",{children:t})]}),(0,i.jsxs)(w,{children:[(0,i.jsx)("div",{children:"Reward Fee"}),(0,i.jsx)("div",{children:a})]})]})]})}}}]);
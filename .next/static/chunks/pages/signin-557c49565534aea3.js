(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2176],{54758:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signin",function(){return r(68328)}])},13841:function(n,e,r){"use strict";r.d(e,{z:function(){return m}});var t=r(82729),a=r(85893),o=r(67294),i=r(68458);function c(){let n=(0,t._)(["\n  all: unset;\n  box-sizing: border-box;\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  width: ",";\n  height: ",";\n  padding: ",";\n  font: ",";\n  font-weight: 600;\n  line-height: 1;\n  border-radius: 100px;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  box-shadow: 0 0 0 0px var(--violet4);\n  cursor: pointer;\n  transition: all 200ms;\n  text-decoration: none !important;\n\n  &:hover {\n    background: ",";\n    color: ",";\n    border: 1px solid ",";\n  }\n  &:focus {\n    background: ",";\n    color: ",";\n    border: 1px solid ",";\n    box-shadow: 0 0 0 4px var(--violet4);\n  }\n  &:active {\n    background: ",";\n    color: ",";\n    border: 1px solid ",";\n  }\n\n  ","\n\n  ","\n"]);return c=function(){return n},n}function l(){let n=(0,t._)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: ",";\n\n  i {\n    font-size: ",";\n    line-height: ",";\n    color: ",";\n  }\n\n  ","\n"]);return l=function(){return n},n}function s(){let n=(0,t._)([""]);return s=function(){return n},n}function d(){let n=(0,t._)(["\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  margin: calc("," * -0.5) auto 0;\n  width: ",";\n  height: ",";\n  font-size: ",";\n  line-height: ",";\n  animation: spin 800ms infinite linear;\n\n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n"]);return d=function(){return n},n}let u={primary:{outline:{background:"var(--sand1)",border:"var(--sand6)",color:"var(--violet8)",iconColor:"var(--violet9)",hover:{border:"var(--violet6)"},focus:{border:"var(--violet9)"},active:{background:"var(--violet2)",border:"var(--violet7)"}},solid:{background:"var(--sand12)",border:"var(--sand12)",color:"var(--sand1)",iconColor:"var(--sand9)",hover:{background:"var(--sand11)",border:"var(--sand11)"},focus:{},active:{}}},secondary:{outline:{background:"var(--sand1)",border:"var(--sand6)",color:"var(--sand12)",iconColor:"var(--sand10)",hover:{border:"var(--sand8)"},focus:{border:"var(--violet8)"},active:{background:"var(--sand3)",border:"var(--sand8)"}},solid:{background:"var(--sand3)",border:"var(--sand6)",color:"var(--sand12)",iconColor:"var(--sand11)",hover:{background:"var(--sand4)"},focus:{border:"var(--violet8)"},active:{background:"var(--sand5)"}}},destructive:{outline:{background:"var(--sand1)",border:"var(--sand6)",color:"var(--red8)",iconColor:"var(--red9)",hover:{border:"var(--red6)"},focus:{border:"var(--violet8)"},active:{background:"var(--red2)",border:"var(--red7)"}},solid:{background:"var(--red9)",border:"var(--red8)",color:"var(--red12)",iconColor:"var(--red11)",hover:{background:"var(--red10)"},focus:{border:"var(--red11)"},active:{background:"var(--red8)"}}},affirmative:{outline:{background:"var(--sand1)",border:"var(--sand6)",color:"var(--green11)",iconColor:"var(--green10)",hover:{border:"var(--green9)"},focus:{border:"var(--violet8)"},active:{background:"var(--green2)",border:"var(--green8)"}},solid:{background:"var(--green9)",border:"var(--green8)",color:"var(--green12)",iconColor:"var(--green11)",hover:{background:"var(--green10)"},focus:{border:"var(--green11)"},active:{background:"var(--green8)"}}}};u.primary.ghost={...u.primary.outline,border:"hsla(0, 0%, 100%, 0)",background:"hsla(0, 0%, 100%, 0)"},u.secondary.ghost={...u.secondary.outline,border:"hsla(0, 0%, 100%, 0)",background:"hsla(0, 0%, 100%, 0)"},u.destructive.ghost={...u.destructive.outline,border:"hsla(0, 0%, 100%, 0)",background:"hsla(0, 0%, 100%, 0)"},u.affirmative.ghost={...u.affirmative.outline,border:"hsla(0, 0%, 100%, 0)",background:"hsla(0, 0%, 100%, 0)"};let f={small:{font:"var(--text-xs)",gap:"6px",height:"32px",icon:"14px",paddingX:"16px"},default:{font:"var(--text-s)",gap:"8px",height:"40px",icon:"18px",paddingX:"20px"},large:{font:"var(--text-base)",gap:"8px",height:"48px",icon:"18px",paddingX:"24px"}};function p(n,e,r,t){return"default"===r?u[n][e][t]:u[n][e][r][t]||u[n][e][t]}let v=i.ZP.button.withConfig({componentId:"sc-b122c373-0"})(c(),n=>n.icon?f[n.size].height:void 0,n=>f[n.size].height,n=>n.icon?"0":"0 ".concat(f[n.size].paddingX),n=>f[n.size].font,n=>p(n.variant,n.fill,"default","background"),n=>p(n.variant,n.fill,"default","color"),n=>p(n.variant,n.fill,"default","border"),n=>p(n.variant,n.fill,"hover","background"),n=>p(n.variant,n.fill,"hover","color"),n=>p(n.variant,n.fill,"hover","border"),n=>p(n.variant,n.fill,"focus","background"),n=>p(n.variant,n.fill,"focus","color"),n=>p(n.variant,n.fill,"focus","border"),n=>p(n.variant,n.fill,"active","background"),n=>p(n.variant,n.fill,"active","color"),n=>p(n.variant,n.fill,"active","border"),n=>n.loading&&"\n        pointer-events: none;\n      ",n=>n.disabled&&"\n        opacity: 1;\n        background: ".concat("ghost"===n.fill?"hsla(0, 0%, 100%, 0)":"var(--sand3)",";\n        border-color: var(--sand3);\n        color: var(--sand8);\n        pointer-events: none;\n    \n        i {\n          color: var(--sand8) !important;\n        }\n      ")),g=i.ZP.span.withConfig({componentId:"sc-b122c373-1"})(l(),n=>f[n.size].gap,n=>f[n.size].icon,n=>f[n.size].icon,n=>n.icon?void 0:p(n.variant,n.fill,"default","iconColor"),n=>n.loading&&"\n        opacity: 0;\n      "),h=i.ZP.span.withConfig({componentId:"sc-b122c373-2"})(s()),b=i.ZP.i.withConfig({componentId:"sc-b122c373-3"})(d(),n=>f[n.size].icon,n=>f[n.size].icon,n=>f[n.size].icon,n=>f[n.size].icon,n=>f[n.size].icon),m=(0,o.forwardRef)((n,e)=>{let{disabled:r,fill:t="solid",href:o,icon:i,iconLeft:c,iconRight:l,label:s,loading:d,size:u="default",type:f="button",variant:p="primary",...m}=n,x=o?{as:"a",href:o}:{type:f,disabled:r||d};i&&(x["aria-label"]=s);let w={disabled:r,fill:t,icon:i,loading:d,size:u,variant:p};return(0,a.jsx)(v,{ref:e,...w,...x,...m,children:(0,a.jsxs)(a.Fragment,{children:[d&&(0,a.jsx)(b,{...w,className:"ph-bold ph-circle-notch"}),(0,a.jsx)(g,{...w,children:i?(0,a.jsx)("i",{className:i}):(0,a.jsxs)(a.Fragment,{children:[c&&(0,a.jsx)("i",{className:c}),(0,a.jsx)(h,{children:s}),l&&(0,a.jsx)("i",{className:l})]})})]})})});m.displayName="Button"},95958:function(n,e,r){"use strict";r.d(e,{G:function(){return o}});var t=r(67294),a=r(4179);function o(){let n=(0,a.q)(n=>n.setSrc);(0,t.useEffect)(()=>{n(null)},[n])}},1552:function(n,e,r){"use strict";r.d(e,{I:function(){return o}});var t=r(11163),a=r(67294);function o(){let n=(0,t.useRouter)(),e=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!window)return;let r=localStorage.getItem("signInRedirectUrl")||"/";localStorage.removeItem("signInRedirectUrl"),e?window.location.href=r:n.replace(r)},[n]),r=(0,a.useCallback)(()=>{window&&(["/","/signin","/signup","/verify-email","/auth-callback"].includes(n.pathname)||localStorage.setItem("signInRedirectUrl",n.asPath))},[n]),o=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r(),n.push(e?"/signup":"/signin")},[n,r]);return{redirect:e,requestAuthentication:o,saveCurrentUrl:r}}},68328:function(n,e,r){"use strict";r.r(e);var t=r(82729),a=r(85893),o=r(11163),i=r(67294),c=r(87536),l=r(68458),s=r(13841),d=r(95958),u=r(51991),f=r(1552),p=r(99376),v=r(86938),g=r(37102),h=r(69234);function b(){let n=(0,t._)(["\n  width: 100%;\n  height: calc(100vh - 66px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #f2f1ea;\n  padding: 0 16px;\n"]);return b=function(){return n},n}function m(){let n=(0,t._)(["\n  max-width: 450px;\n  width: 100%;\n  margin: 16px auto;\n  background-color: #ffffff;\n  padding: 16px;\n  border-radius: 12px;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]);return m=function(){return n},n}function x(){let n=(0,t._)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n\n  label {\n    font-size: 12px;\n    font-weight: 500;\n  }\n\n  input {\n    padding: 8px 12px;\n    border: 1px solid #e5e5e5;\n    border-radius: 10px;\n    font-size: 14px;\n    margin-top: 4px;\n    min-height: 50px;\n    cursor: text;\n\n    &:focus {\n      outline: none;\n      border: 1px solid #e5e5e5;\n    }\n  }\n\n  .subText {\n    font-size: 12px;\n  }\n"]);return x=function(){return n},n}let w=()=>{let n=(0,p.Z)(),{register:e,handleSubmit:r,setValue:t}=(0,c.cI)(),l=(0,o.useRouter)(),u=(0,v.t)(n=>n.requestSignInWithWallet),b=(0,v.t)(n=>n.signedIn),{redirect:m}=(0,f.I)();(0,d.G)(),(0,i.useEffect)(()=>{b&&m()},[m,b]);let x=r(async e=>{if(e.email)try{let{publicKey:n,email:r}=await (0,g.Q)(null,e.email,!0);l.push("/verify-email?publicKey=".concat(n,"&email=").concat(r,"&isRecovery=true"))}catch(e){console.log(e),"string"==typeof(null==e?void 0:e.message)?n.fail({title:e.message}):n.fail({title:"Something went wrong"})}});return(0,a.jsx)(k,{children:(0,a.jsxs)(y,{onSubmit:x,children:[(0,a.jsxs)("header",{children:[(0,a.jsx)("h1",{children:"Sign In"}),(0,a.jsx)("p",{className:"desc",children:"Use this account to sign in everywhere on NEAR, no password required."})]}),(0,a.jsxs)(I,{children:[(0,a.jsx)("label",{htmlFor:"email",children:"Email"}),(0,a.jsx)("input",{...e("email",{required:"Please enter a valid email address"}),onChange:n=>{if(t("email",n.target.value),!(0,h.vV)(n.target.value))return},placeholder:"user_name@email.com",type:"email",required:!0})]}),(0,a.jsx)(s.z,{type:"submit",label:"Continue",variant:"affirmative",onClick:x}),(0,a.jsx)(s.z,{type:"button",label:"Continue with wallet",variant:"primary",onClick:u})]})})};w.getLayout=u.wQ,e.default=w;let k=l.ZP.div.withConfig({componentId:"sc-1f714573-0"})(b()),y=l.ZP.form.withConfig({componentId:"sc-1f714573-1"})(m()),I=l.ZP.div.withConfig({componentId:"sc-1f714573-2"})(x())},4179:function(n,e,r){"use strict";r.d(e,{q:function(){return a}});var t=r(64529);let a=(0,t.Ue)(n=>({src:null,setSrc:e=>n(()=>({src:e}))}))},37102:function(n,e,r){"use strict";r.d(e,{Q:function(){return i}});var t=r(85790),a=r(91259);r(39803);var o=r(6386);let i=async(n,e,r)=>{let i=await (0,t.createKey)(e),c=i.getPublicKey().toString();if(!c)throw Error("No public key found");return window.localStorage.setItem("fast-auth:account-creation-data",JSON.stringify({accountId:n,isCreated:!1})),await (0,a.oo)(o.l,e,{url:encodeURI("".concat(window.location.origin,"/auth-callback?publicKey=").concat(c,"&accountId=").concat(n)+(r?"&isRecovery=true":"")),handleCodeInApp:!0}),window.localStorage.setItem("emailForSignIn",e),{email:e,publicKey:c,accountId:n}}},65752:function(n,e,r){"use strict";r.d(e,{$9:function(){return o},L5:function(){return i},QW:function(){return a},mB:function(){return c}});var t=r(34155);let a={mainnet:{networkId:"mainnet",viewAccountId:"near",nodeUrl:"https://rpc.mainnet.near.org",walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org",fastAuth:{mpcRecoveryUrl:"https://mpc-recovery-leader-mainnet-cg7nolnlpa-ue.a.run.app",authHelperUrl:"https://api.kitwallet.app",accountIdSuffix:"near",firebase:{apiKey:"AIzaSyDhxTQVeoWdnbpYTocBAABbLULGf6H5khQ",authDomain:"near-fastauth-prod.firebaseapp.com",projectId:"near-fastauth-prod",storageBucket:"near-fastauth-prod.appspot.com",messagingSenderId:"829449955812",appId:"1:829449955812:web:532436aa35572be60abff1",measurementId:"G-T2PPJ8QRYY"}}},testnet:{networkId:"testnet",viewAccountId:"testnet",nodeUrl:"https://rpc.testnet.near.org",walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org",fastAuth:{mpcRecoveryUrl:"https://mpc-recovery-7tk2cmmtcq-ue.a.run.app",authHelperUrl:"https://testnet-api.kitwallet.app",accountIdSuffix:"testnet",firebase:{apiKey:"AIzaSyDAh6lSSkEbpRekkGYdDM5jazV6IQnIZFU",authDomain:"pagoda-oboarding-dev.firebaseapp.com",projectId:"pagoda-oboarding-dev",storageBucket:"pagoda-oboarding-dev.appspot.com",messagingSenderId:"116526963563",appId:"1:116526963563:web:053cb0c425bf514007ca2e",measurementId:"G-HF2NBGE60S"}}}},o=t.env.NEXT_PUBLIC_NETWORK_ID||"mainnet",i=a[o],c="testnet"===o?"v1.social08.testnet":"social.near"},6386:function(n,e,r){"use strict";r.d(e,{l:function(){return c}});var t=r(83977),a=r(91259),o=r(65752);let i=(0,t.ZF)(o.L5.fastAuth.firebase),c=(0,a.v0)(i)},69234:function(n,e,r){"use strict";r.d(e,{b1:function(){return o},ie:function(){return t},s9:function(){return a},vV:function(){return i}});let t=n=>n.split("@")[0].toLowerCase().replace(/[^a-zA-Z0-9_\-]/g,"-"),a=/\S+@\S+\.\S+/,o=/^([a-z\d]+[-_])*[a-z\d]+$/,i=n=>a.test(n)},89214:function(){},85568:function(){},55024:function(){}},function(n){n.O(0,[4473,3714,3096,5204,533,4722,1693,1072,5317,5732,292,8264,7536,4455,5524,1991,9774,2888,179],function(){return n(n.s=54758)}),_N_E=n.O()}]);